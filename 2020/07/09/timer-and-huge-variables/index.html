<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/zeebe-chaos/rss.xml" title="Zeebe Chaos Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zeebe-chaos/atom.xml" title="Zeebe Chaos Blog Atom Feed"><title data-react-helmet="true">Experiment with Timers and Huge Variables | Zeebe Chaos</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://zeebe-io.github.io/zeebe-chaos/2020/07/09/timer-and-huge-variables"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Experiment with Timers and Huge Variables | Zeebe Chaos"><meta data-react-helmet="true" name="description" content="* Failure documentation about RAFT"><meta data-react-helmet="true" property="og:description" content="* Failure documentation about RAFT"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2020-07-09T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/zelldon"><link data-react-helmet="true" rel="shortcut icon" href="/zeebe-chaos/img/zeebe-logo.png"><link data-react-helmet="true" rel="canonical" href="https://zeebe-io.github.io/zeebe-chaos/2020/07/09/timer-and-huge-variables"><link data-react-helmet="true" rel="alternate" href="https://zeebe-io.github.io/zeebe-chaos/2020/07/09/timer-and-huge-variables" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://zeebe-io.github.io/zeebe-chaos/2020/07/09/timer-and-huge-variables" hreflang="x-default"><link rel="stylesheet" href="/zeebe-chaos/assets/css/styles.473f1099.css">
<link rel="preload" href="/zeebe-chaos/assets/js/runtime~main.aad911e8.js" as="script">
<link rel="preload" href="/zeebe-chaos/assets/js/main.6aeaf949.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zeebe-chaos/"><img src="/zeebe-chaos/img/zeebe-logo.png" alt="Zeebe" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/zeebe-chaos/img/zeebe-logo.png" alt="Zeebe" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Zeebe Chaos</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zeebe-chaos/">Chaos Summaries</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/zeebe-io/zeebe-chaos" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">All posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/11/24/Worker-count-should-not-impact-performance">Worker count should not impact performance</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/11/11/Not-produce-duplicate-Keys">Not produce duplicate Keys</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/10/29/Throughput-on-big-state">Throughput on big state</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/10/05/recovery-time">Recovery (Fail Over) time</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/09/23/Old-Clients">Old-Clients</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/07/06/Slow-Network">Slow Network</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/06/08/Full-Disk">Full Disk Recovery</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/05/25/Reset-Clock">Time travel Experiment</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/04/29/Corrupted-Snapshot">Corrupted Snapshot Experiment Investigation</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/04/03/bpmn-meets-chaos-engineering">BPMN meets Chaos Engineering</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/03/30/set-file-immutable">Set file immutable</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/03/23/camunda-cloud-network-partition">Camunda Cloud network partition</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/03/09/cont-workflow-instance">Fault-tolerant processing of process instances</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/02/23/automate-deployments-dist">Automating Deployment Distribution Chaos Experiment</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/01/26/deployments">Deployment Distribution</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/01/19/network-partition">Network partitions</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2021/01/07/disconnect-leader-and-follower">Disconnect Leader and one Follower</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/11/24/message-correlation-after-failover">Message Correlation after Failover</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/11/11/job-timeouts">Many Job Timeouts</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/11/03/investigate-failing-tests">Investigate failing Chaos Tests</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/10/20/non-graceful-shutdown">Non-graceful Shutdown Broker</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/10/27/standalone-gw-memory">Gateway memory consumption</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/10/13/multiple-leader-changes">Multiple Leader Changes</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/10/06/toxi-proxy">Play around with ToxiProxy</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/08/20/experiment-with-camunda-cloud">Experiment with Camunda Cloud</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/08/06/low-load">Experiment with Low Load</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/07/30/experiment-without-exporters">Experiment without Exporters</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/07/16/big-multi-instance">Big Multi Instance</a></li><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/zeebe-chaos/2020/07/09/timer-and-huge-variables">Experiment with Timers and Huge Variables</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/07/02/extract-k8-resources">Extract K8 resources from namespace</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/06/25/gateway-network-partition">Gateway Network Partition</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/06/18/correlate-message-after-failover">Correlate Message after failover</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/06/11/high-cpu-gateway">High CPU load on Standalone Gateway</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/zeebe-chaos/2020/06/04/first-chaos-day">First Chaos Day!</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_GeHD" itemprop="headline">Experiment with Timers and Huge Variables</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2020-07-09T00:00:00.000Z" itemprop="datePublished">July 9, 2020</time> Â· 4 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_1R69"><div class="avatar margin-bottom--sm"><a href="https://github.com/zelldon" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_1yU8" src="https://github.com/zelldon.png" alt="Christopher Zell"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/zelldon" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Christopher Zell</span></a></div><small class="avatar__subtitle" itemprop="description">Chaos Engineer @ Zeebe</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><ul><li>Failure documentation about RAFT</li><li>Added chaos day summaries to repo</li><li>Run Chaos experiment with a lot of timers</li><li>Run Chaos experiment with huge variables</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="chaos-experiment"></a>Chaos Experiment<a class="hash-link" href="#chaos-experiment" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="a-lot-of-timers"></a>A Lot of Timers<a class="hash-link" href="#a-lot-of-timers" title="Direct link to heading">#</a></h3><p>Based on the Hypothesis written here:  <a href="https://github.com/zeebe-io/zeebe-chaos/issues/31" target="_blank" rel="noopener noreferrer">#31</a> we run an experiment with a stable load of 10 simple workflow instances per second (only start and end event) and 10 workflow instances with
multiple timers. We wanted to explore what happens when we have a lot of timers running and especially what happens when the are triggered at once. We created the following workflow model, where timers are exponentially created.</p><p><img alt="timerProcess" src="data:image/png;base64,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"></p><p>The experiments is based on the hypotheses we wrote here <a href="https://github.com/zeebe-io/zeebe-chaos/issues/31" target="_blank" rel="noopener noreferrer">#31</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="expectations"></a>Expectations<a class="hash-link" href="#expectations" title="Direct link to heading">#</a></h4><ul><li>at some point we can&#x27;t create new instances from out side, since backpressure will block that</li><li>the metrics for processing records (events/commands) should be stable since there will be always new events/records</li><li>the cluster itself should be stable</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="observations"></a>Observations<a class="hash-link" href="#observations" title="Direct link to heading">#</a></h4><p>During running the experiments we saw that indeed we were not able to create new instances at some point.
The cluster kept stable and there was no leader change at all. Unexpected was the behavior of the processing record metrics, since it fluctuates a lot.</p><p>Furthermore we reached really high processing records throughput, which we normally not see.</p><p><img alt="overall" src="/zeebe-chaos/assets/images/overall-0bf1b5d88ff99c1c96acde2110c43f5b.png"></p><p>The log appender backpressure seem to work, at some point it deferred around 1.3 million records.</p><p>On resource consumption side it seems that memory is growing, but we create also more timer might be the issue.</p><p><img alt="mem" src="/zeebe-chaos/assets/images/mem-f8766317213b71c59a5c41b7083e0968.png"></p><p>Interesting was that we saw a huge difference between processing and exporting.</p><p><img alt="exportvsprocess" src="/zeebe-chaos/assets/images/exportvsprocess-508a331eafa9df80e4cb11c520e2e95f.png"> </p><p>The issue we currently have is that we stop processing to trigger/evaluate due timers and write them to the log.
After we did that we will process a bunch of events again and then trigger/evaluate again. I think this should be decoupled to streamline the processing throughput. I created a new issue for that <a href="https://github.com/zeebe-io/zeebe/issues/4931" target="_blank" rel="noopener noreferrer">#4931</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="huge-variables"></a>Huge Variables<a class="hash-link" href="#huge-variables" title="Direct link to heading">#</a></h3><p>In order to understand better what is the impact of huge variables I did a small experiment with a payload which was ~ 5 MB.</p><p>I expected that this will not work, since this is larger then the maximum message size. I would expect an appropriate error message, but unfortunately I just got a cancel on the client side.</p><p>Starter Exception:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945889183Z 12:27:20.945 [Thread-2] WARN  io.zeebe.ResponseChecker - Request failed</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945909759Z java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945924206Z Received Rst Stream</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945929123Z  at java.util.concurrent.CompletableFuture.reportGet(Unknown Source) ~[?:?]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945934351Z  at java.util.concurrent.CompletableFuture.get(Unknown Source) ~[?:?]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945939157Z  at io.zeebe.ResponseChecker.run(ResponseChecker.java:41) [app.jar:0.23.3]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945972595Z Caused by: io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945978663Z Received Rst Stream</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945983657Z  at io.grpc.Status.asRuntimeException(Status.java:533) ~[app.jar:0.23.3]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945988515Z  at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:449) ~[app.jar:0.23.3]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945993803Z  at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39) ~[app.jar:0.23.3]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.945998591Z  at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23) ~[app.jar:0.23.3]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946003749Z  at me.dinowernli.grpc.prometheus.MonitoringClientCallListener.onClose(MonitoringClientCallListener.java:50) ~[app.jar:0.23.3]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946007316Z  at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:426) ~[app.jar:0.23.3]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946010626Z  at io.grpc.internal.ClientCallImpl.access$500(ClientCallImpl.java:66) ~[app.jar:0.23.3]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946013822Z  at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:689) ~[app.jar:0.23.3]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946017026Z  at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$900(ClientCallImpl.java:577) ~[app.jar:0.23.3]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946020414Z  at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:751) ~[app.jar:0.23.3]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946025498Z  at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:740) ~[app.jar:0.23.3]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946030508Z  at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[app.jar:0.23.3]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946035265Z  at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) ~[app.jar:0.23.3]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946040Z     at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) ~[?:?]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946045833Z  at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) ~[?:?]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09T12:27:20.946050880Z  at java.lang.Thread.run(Unknown Source) ~[?:?]</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> I </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Interesting is what happens on the Gateway:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">2020-07-09 14:27:33.929 CEST</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Stream Error</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span></span><span class="token-line" style="color:#393A34"><span class="token plain">Expand all | Collapse all{</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> insertId: &quot;yoxfczvg9usifqd7d&quot;  </span></span><span class="token-line" style="color:#393A34"><span class="token plain"> jsonPayload: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  context: {â€¦}   </span></span><span class="token-line" style="color:#393A34"><span class="token plain">  exception: &quot;io.netty.handler.codec.http2.Http2Exception$StreamException: Received DATA frame for an unknown stream 10277</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.handler.codec.http2.Http2Exception.streamError(Http2Exception.java:147) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder$FrameReadListener.shouldIgnoreHeadersOrDataFrame(DefaultHttp2ConnectionDecoder.java:596) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder$FrameReadListener.onDataRead(DefaultHttp2ConnectionDecoder.java:239) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.handler.codec.http2.Http2InboundFrameLogger$1.onDataRead(Http2InboundFrameLogger.java:48) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.handler.codec.http2.DefaultHttp2FrameReader.readDataFrame(DefaultHttp2FrameReader.java:422) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.handler.codec.http2.DefaultHttp2FrameReader.processPayloadState(DefaultHttp2FrameReader.java:251) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.handler.codec.http2.DefaultHttp2FrameReader.readFrame(DefaultHttp2FrameReader.java:160) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.handler.codec.http2.Http2InboundFrameLogger.readFrame(Http2InboundFrameLogger.java:41) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder.decodeFrame(DefaultHttp2ConnectionDecoder.java:174) ~[netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.handler.codec.http2.Http2ConnectionHandler$FrameDecoder.decode(Http2ConnectionHandler.java:378) [netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.handler.codec.http2.Http2ConnectionHandler.decode(Http2ConnectionHandler.java:438) [netty-codec-http2-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501) [netty-codec-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440) [netty-codec-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) [netty-codec-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792) [netty-transport-native-epoll-4.1.50.Final-linux-x86_64.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe$1.run(AbstractEpollChannel.java:387) [netty-transport-native-epoll-4.1.50.Final-linux-x86_64.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164) [netty-common-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) [netty-common-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384) [netty-transport-native-epoll-4.1.50.Final-linux-x86_64.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) [netty-common-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.50.Final.jar:4.1.50.Final]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    at java.lang.Thread.run(Unknown Source) [?:?]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;   </span></span><span class="token-line" style="color:#393A34"><span class="token plain">  logger: &quot;io.grpc.netty.NettyServerHandler&quot;   </span></span><span class="token-line" style="color:#393A34"><span class="token plain">  message: &quot;Stream Error&quot;   </span></span><span class="token-line" style="color:#393A34"><span class="token plain">  serviceContext: {â€¦}   </span></span><span class="token-line" style="color:#393A34"><span class="token plain">  thread: &quot;grpc-default-worker-ELG-1-1&quot;   </span></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Created an issue for this: <a href="https://github.com/zeebe-io/zeebe/issues/4928" target="_blank" rel="noopener noreferrer">#4928</a></p><p>I will probably continue with this next week.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="participants"></a>Participants<a class="hash-link" href="#participants" title="Direct link to heading">#</a></h2><ul><li>@zelldon</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zeebe-chaos/2020/07/16/big-multi-instance"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« Big Multi Instance</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zeebe-chaos/2020/07/02/extract-k8-resources"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Extract K8 resources from namespace Â»</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#chaos-experiment" class="table-of-contents__link">Chaos Experiment</a><ul><li><a href="#a-lot-of-timers" class="table-of-contents__link">A Lot of Timers</a></li><li><a href="#huge-variables" class="table-of-contents__link">Huge Variables</a></li></ul></li><li><a href="#participants" class="table-of-contents__link">Participants</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/zeebe" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://forum.camunda.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/Camunda" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/zeebe-io/zeebe-chaos/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Zeebe Chaos. Built with Docusaurus.</div></div></div></footer></div>
<script src="/zeebe-chaos/assets/js/runtime~main.aad911e8.js"></script>
<script src="/zeebe-chaos/assets/js/main.6aeaf949.js"></script>
</body>
</html>